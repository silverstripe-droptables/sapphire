/********************************************

Defines the styles for the action tabset, found on the site tree, 
and as a single (more options) tab in page view. This is a special 
use case of tabs, so the default tab styling should not apply 


**********************************************/


$border: 1px solid darken(#D9D9D9, 15%);

.cms {	
	.ss-ui-action-tabset{
		position:relative;
		float:left;

		/*Style the "tabs" navigation for multiple tabs*/
		ul.ui-tabs-nav{				
			@include clearfix;			
			padding:0;			
			overflow:visible;
			float:left;	
			height: 28px;
			border:$border;
			@include border-radius(3px);
			&:focus{
				outline:none;
				box-shadow:none;
				-webkit-box-shadow: none;
			}			
			li{
				&:focus{
					outline:none;
					box-shadow:none;
					-webkit-box-shadow: none;
				}
				width: 110px;
				overflow:visible;
				background:none;
				@include background-image(linear-gradient(top, #fff, #D9D9D9));	
				
				border-radius: none;
				@include border-radius(0);
				/*border-bottom:$border !important; *///jquery-ui style has important on it
				border: none;
				border-right:1px solid #eee;
				border-left: $border;
				margin:0;
				&.ui-state-active{
					background:#fff;
					border-bottom:none !important; //jquery-ui style has important on it
					@include border-bottom-left-radius(0px);
					@include border-bottom-right-radius(0px);
					
					a {
						@include border-bottom-left-radius(0px);
						@include border-bottom-right-radius(0px);

						.tab-nav-link{
							padding-bottom:6px;
							&:focus, span:focus{
								outline:none;
								box-shadow:none;
								-webkit-box-shadow: none;
							}
						}
					}
				}
				&.first{
					@include border-top-left-radius(3px);
					@include border-bottom-left-radius(3px);
					border-left:none;
				}
				&.last{					
					@include border-top-right-radius(3px);
					@include border-bottom-right-radius(3px);
					border-right:none;
				}
				a.tab-nav-link{
					color:$color-text;
					font-weight:bold;				
					padding: 5px 28px 5px 8px;	
					line-height:18px;
					display:block;
					.ui-no-icon{
						display:block;
						float:left;
						margin-right:5px;
						width:16px;
						height:16px;
					}
					.title{
						margin-left: 2px;
						display:inline-block;
						line-height: 16px;
					}
					&.view-mode-batchactions-wrapper .title {
						margin-left: 25px;
					}
				}
			}
		}
		&.tabset-open {	
			ul.ui-tabs-nav,		 
			ul.ui-tabs-nav li.first {
				@include border-bottom-left-radius(0);
			}
		}
		&.tabset-open-last {			 
			ul.ui-tabs-nav li.last {
				@include border-bottom-right-radius(0);
			}
		}
		
		.batch-check{ /*position a checkbox within a tab*/
			position:absolute;
			float:left;
			top:0;
			margin: 7px 5px 5px 10px;
			line-height:18px;
			height:13px;
			display:block;
		}
		.ui-icon{
			display:block;
			float:left; 
			margin-right:5px;
		}	
		&.single{ 
			ul.ui-tabs-nav{		
				background:none;
				border:none;
				display:inline;
				padding:0;
				float:left;
				li{
					display:inline;
					background:none;
					border:none;
					padding:0;
					border-bottom:none !important; //jquery-ui style has important on it
					
					&:hover, &:focus, &:active{
						@include box-shadow(none);
						outline:none;
					}
					a{
						color: $color-text-blue-link;
						@include text-shadow(#fff 0 1px 1px);
						padding:0 0 0 10px;
						line-height:24px;

						&:hover, &:focus, &:active{
							@include box-shadow(none);
							outline:none;							
						}
						&:hover{
							@include text-shadow(#fff 0 10px 10px);
							color: darken($color-text-blue-link,8%);
							&:after{
								border-bottom: 4px solid darken($color-text-blue-link,8%);
							}
						}
					}					
				}
			}
		}	

		/* Style the tab panels */
		.ss-ui-action-tab.ui-tabs-panel{
			display:block;
			clear:both;
			background:#fff;
			@include clearfix;
			position:absolute;
			top:30px;
			border:$border;
			border-top:none;
			width:202px;
			z-index:1;
			padding:10px;
			@include tightSpacing;
			margin:0;
			/*left:-1px;*/
			.chzn-container-single .chzn-single{
				padding: 0 0 0 5px;
				float:none;
			}
			&.first {
				left: 0 !important;
				width: 203px;
			}
		}
		.last .ss-ui-action-tab{
			right:-1px;
			left:auto;
		}
	}		


	/**********************
	Styles for pop-up tabs in bottom panel
	************************/
	.south .Actions{
		overflow:visible; //put this somewhere else/more generic
		.rise-up.ss-ui-action-tabset{
			ul.ui-tabs-nav {				
				margin: 0;
				li {
					a.ui-tabs-anchor {
						font-weight: normal;
						font-size: 13px;
						line-height: 24px;
						padding-right: 25px;
						background: transparent url(../images/link_arrows.png) no-repeat right -11px;
						&:hover {
							background-position: right -49px;
						}				
					}
					&.ui-state-active a.ui-tabs-anchor {
						background-position: right 9px;
						&:hover {
							background-position: right -29px;
						}
					}
				}
			}
			.ui-tabs-panel{
				@include clearfix;
				@include border-top-radius(3px);
				@include border-bottom-radius(0);
				/*@include box-shadow(0 -1px 1px 0 lighten(#cccccc,5%));*/
				@include tightSpacing;
				background-color: $tab-panel-texture-color;
				border:1px solid #ccc;
				border-bottom:1px solid $tab-panel-texture-color;
				clear:both;
				display:block;
				position:absolute;
				top:-204px;
				width:190px;										/* same width as buttons within panel */
				z-index:1;
				padding:10px;				
				margin:0;
				margin-top:1px;
				/*left:-77px;*/
				.chzn-container-single .chzn-single{
					padding: 0 0 0 5px;
					float:none;
				}
				button.ss-ui-button{
					background:none;
					border:none;
					display:block;
					padding: 0 10px;
					margin:0;
					outline:none;
					color: $color-text-blue-link;
					font-weight:normal;
					width: 210px; 									/* same as width of surrounding panel */
					text-align: left;
					@include border-radius(0);
					text-shadow: none;
					margin-left:-10px;

					&.ss-ui-action-destructive{
						color: darken($color-error,25%);
					}
					span{
						padding-left:0;
						padding-right:0;
					}
					&:hover, &:focus, &:active{
						/*text-decoration:underline;*/
						background-color: darken($tab-panel-texture-color,4%);
						@include box-shadow(none);
						outline:none;
					}
				}
				.cms-sitetree-information {
					border-bottom: 1px solid $color-light-separator;
					margin-bottom: 8px;
					p.meta-info {
						color: #999;
						font-size: 11px;
						line-height: 16px;
						margin-bottom: 8px;
					}	
				}
			}
			.last .ui-tabs-panel.ss-ui-action-tab{
				right:-1px;
				left:auto;
			}			
		}
	}
	

	/* Styles for the cms-actions in tree view, to use more limited space.
	Title hidden in tree view, until hover/active state added. Active is applied 
	to the first tab within the template, so there should always be one title 
	visible. Added and removed with js in TabSet.js  */
	.cms-tree-view-sidebar{
		.ss-ui-action-tabset.ss-tabset.multi{
			ul.ui-tabs-nav{
				>li{	
					width: auto;				
					a.tab-nav-link{
						width:30px;
						overflow:hidden;
						@include box-sizing(border-box);
						padding-right:0;
						@include duration(0.5s);
						&.active{
							width:110px;	
							@include duration(0.5s);
						}
					}				
				}				
			}
			&.tabset-open, &.tabset-open-last {
				ul.ui-tabs-nav, 
				ul.ui-tabs-nav li.first, 
				ul.ui-tabs-nav li.last {
					@include border-bottom-right-radius(0);
					@include border-bottom-left-radius(0);
				}
			}
		}
		.ui-tabs .ui-tabs-panel.ss-ui-action-tab{
			width:162px;
			padding:10px 6px;
			.field {
				max-width:160px;				
			}
			.ui-button-text-only .ui-button-text{
				padding:.4em .8em;
			}			
		}
		.last .ui-tabs-panel.ss-ui-action-tab{
			right:0;
			left:auto;
		}
	}	
}